# 정규표현식: 그루핑

- 무엇?
  - 특정 문자열을 그룹으로 지정하여, 이를 탐색하는 방법
- 어떻게?
  - 메타 문자 `()` 사용
  - 그룹 재참조 `/n` 사용
  - 그룹 이름을 지정하여 `(?P<name>)`
- 언제, 왜?
  - 텍스트 내에서 반복되는 문자(열) 탐색에 유용하다.
  - 특정 부분의 문자열을 *추출하는* 경우에 유용하다.

다음은 어떤 형태의 문자열을 찾는 정규표현식일까요?

```python
"\\w+\\s+\\d+[-]\\d+[-]\\d+"
```

### 예시 1 : 그룹 인덱스

```python
>>> p = re.compile(r"(\\w)+\\s+\\d+[-](\\d+[-]\\d+")
>>> m = p.search("park 010-1234-1234")
>>> print(m.group(1))
park
>>> p = re.compile(r"(\\w+)\\s+(\\d+[-]\\d+[-]\\d+)")
>>> m = p.search("park 010-1234-1234")
>>> print(m.group(2))
010-1234-1234
>>> p = re.compile(r"(\\w+)\\s+((\\d+)[-]\\d+[-]\\d+)")
>>> m = p.search("park 010-1234-1234")
>>> print(m.group(3))
010
```

### 예시2 : 그룹 재참조

```python
>>> p = re.compile(r'(\\b\\w+)\\s+\\1')
>>> p.search('Paris in the the spring').group()
'the the'
```

### 예시 3: 그룹 이름 지정

```python
>>> p = re.compile(r"(?P<name>\\w+)\\s+((?P<telecom>\\d+)[-]\\d+[-]\\d+)")
>>> m = p.search("park 010-1234-1234")
>>> print(m.group("name"))
park
```



## 문제

> 실제 서비스를 기획할 때, 어떤 경우 그루핑을 활용할 수 있을까요? 구체적인 예시를 상상하고 공유해봅시다.

------

# 정규표현식: 전방탐색 / 후방탐색

- 무엇?
  - 특정 문자열을 기준으로 하여, 해당 문자열의 앞/뒤에 붙어있는 문자열을 탐색하여 추출하는 방법
- 어떻게?
  - 방향 - 전방Lookahead/후방Lookbehind
  - 조건 - 긍정형/부정형
  - `(?` + ( `<` ) + `=` / `!` + `__탐색할문자열__` + `)`
- 언제, 왜?
  - 탐색하는 문자열에서, 특정 문자열을 *제외하고* 추출하는 경우에 유용하다.

### 예시 1  :

```python
>>> p = re.compile(".+(?=:)")
>>> m = p.search("<http://google.com>")
>>> print(m.group())
http
```



## 문제

> 주어진 소스코드에서, 포인트만 추출하고자 합니다. 
> (1) 모든 금액들의 숫자 부분만 추출하는 경우 
> (2) 포인트에 해당되는 값만 추출하는 경우 
> (3) 내가 지불한 비용에 해당되는 값만 추출하는 경우 
> 각각 어떤 탐색방법을 사용해야 할까요? (A)와 (B)에 알맞는 코드를 찾아보세요

```python
text = ' \\
7750원 생활/건강 > 악기 > 타악기 > 스틱/스탠드 \\
리뷰2 등록일 2018.09. 찜하기 0 신고하기 \\
네이버페이 포인트 87원 \\
배송비 2500원 \\
적립 쿠폰 할인 구매정보 10800원 \\
생활/건강 > 악기 > 타악기 > 스틱/스탠드 \\
등록일 2019.01. 찜하기2 신고하기 \\
네이버페이 포인트 216원 배송비 무료 \\
적립 쿠폰 할인 구매정보 \\ '

p = re.compile( __(A)__ )
m = p.search(text)

print( __(B)__ )
```

- (1) 긍정형 전방탐색

  ```python
  "[0-9]+(?=원)"
  ```

- (2) 긍정형 후방탐색

  ```python
  "(?<=포인트 )[0-9]"
  ```

- (3) 부정형 후방탐색

  ```python
  "(?<!포인트 [0-9]*)[0-9]+(?=원)"
  ```